<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <DataTemplate x:Key="CardTemplate">
    <Border x:Name="CardFrame"
        Background="#1A2432"
        BorderBrush="#2D3B50"
        BorderThickness="1"
        CornerRadius="8"
        Padding="8"
        Margin="0,2,0,2">
      <TextBlock x:Name="CardLabel"
          Text="{Binding}"
          FontFamily="Consolas"
          FontSize="13"
          Foreground="{StaticResource TextPrimary}"/>
    </Border>
    <DataTemplate.Triggers>
      <DataTrigger Binding="{Binding}"
          Value="Hidden">
        <Setter TargetName="CardFrame"
            Property="Background">
          <Setter.Value>
            <DrawingBrush TileMode="Tile"
                Viewport="0,0,12,12"
                ViewportUnits="Absolute"
                Viewbox="0,0,12,12"
                ViewboxUnits="Absolute">
              <DrawingBrush.Drawing>
                <DrawingGroup>
                  <GeometryDrawing Brush="#1B1F2A"
                      Geometry="M0,0 L12,0 12,12 0,12 Z"/>
                  <GeometryDrawing Brush="#233044"
                      Geometry="M-6,12 L12,-6 18,0 0,18 Z"/>
                </DrawingGroup>
              </DrawingBrush.Drawing>
            </DrawingBrush>
          </Setter.Value>
        </Setter>
        <Setter TargetName="CardFrame"
            Property="BorderBrush"
            Value="#3B4A66"/>
        <Setter TargetName="CardLabel"
            Property="Text"
            Value="Card back"/>
        <Setter TargetName="CardLabel"
            Property="Foreground"
            Value="{StaticResource TextMuted}"/>
      </DataTrigger>
    </DataTemplate.Triggers>
  </DataTemplate>

  <DataTemplate x:Key="HandTemplate">
    <Border x:Name="HandFrame"
        Background="#1A2533"
        BorderBrush="#2D3B50"
        BorderThickness="1"
        CornerRadius="12"
        Padding="12"
        Margin="0,0,12,12"
        RenderTransformOrigin="0.5,0.5">
      <Border.RenderTransform>
        <ScaleTransform ScaleX="1"
            ScaleY="1"/>
      </Border.RenderTransform>
      <StackPanel>
        <TextBlock Text="{Binding Title}"
            FontWeight="SemiBold"
            Foreground="{StaticResource TextMuted}"/>
        <TextBlock Text="{Binding ValueText}"
            Margin="0,6,0,0"
            FontSize="14"/>
        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
          <Border x:Name="OutcomeChip"
              Background="#18222E"
              BorderBrush="#2A3A4D"
              BorderThickness="1"
              CornerRadius="6"
              Padding="6,2"
              HorizontalAlignment="Left">
            <StackPanel Orientation="Horizontal">
              <TextBlock x:Name="OutcomeIcon"
                  Text=""
                  Foreground="{StaticResource TextPrimary}"
                  FontWeight="Bold"
                  Margin="0,0,6,0"
                  FontSize="12"/>
              <TextBlock x:Name="HandOutcome"
                  Text="{Binding OutcomeText}"
                  Foreground="{StaticResource TextPrimary}"
                  FontSize="12"/>
            </StackPanel>
          </Border>
          <Border x:Name="PayoutChip"
              Background="#151E2A"
              BorderBrush="#2A3A4D"
              BorderThickness="1"
              CornerRadius="6"
              Padding="6,2"
              Margin="8,0,0,0"
              HorizontalAlignment="Left">
            <TextBlock x:Name="PayoutLabel"
                Text="{Binding PayoutText}"
                Foreground="{StaticResource TextMuted}"
                FontSize="12"/>
          </Border>
        </StackPanel>
        <ItemsControl ItemsSource="{Binding Cards}"
            Margin="0,8,0,0">
          <ItemsControl.ItemTemplate>
            <StaticResource ResourceKey="CardTemplate"/>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>
    </Border>
    <DataTemplate.Triggers>
      <DataTrigger Binding="{Binding OutcomeText}"
          Value="">
        <Setter TargetName="OutcomeChip"
            Property="Visibility"
            Value="Collapsed"/>
         <Setter TargetName="PayoutChip"
           Property="Visibility"
           Value="Collapsed"/>
      </DataTrigger>
        <DataTrigger Binding="{Binding OutcomeTone}"
          Value="Win">
        <Setter TargetName="OutcomeChip"
          Property="BorderBrush"
          Value="{StaticResource OutcomeWin}"/>
        <Setter TargetName="OutcomeChip"
          Property="Background"
          Value="#1A2A22"/>
          <Setter TargetName="OutcomeChip"
              Property="Effect">
            <Setter.Value>
              <DropShadowEffect Color="{StaticResource OutcomeWinColor}" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
            </Setter.Value>
          </Setter>
          <Setter TargetName="OutcomeIcon"
            Property="Text"
            Value="W"/>
          <Setter TargetName="OutcomeIcon"
            Property="Foreground"
            Value="{StaticResource OutcomeWin}"/>
        <Setter TargetName="HandOutcome"
          Property="Foreground"
          Value="{StaticResource OutcomeWin}"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding OutcomeTone}"
          Value="Lose">
        <Setter TargetName="OutcomeChip"
          Property="BorderBrush"
          Value="{StaticResource OutcomeLose}"/>
        <Setter TargetName="OutcomeChip"
          Property="Background"
          Value="#2A1A20"/>
          <Setter TargetName="OutcomeChip"
              Property="Effect">
            <Setter.Value>
              <DropShadowEffect Color="{StaticResource OutcomeLoseColor}" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
            </Setter.Value>
          </Setter>
          <Setter TargetName="OutcomeIcon"
            Property="Text"
            Value="L"/>
          <Setter TargetName="OutcomeIcon"
            Property="Foreground"
            Value="{StaticResource OutcomeLose}"/>
        <Setter TargetName="HandOutcome"
          Property="Foreground"
          Value="{StaticResource OutcomeLose}"/>
        </DataTrigger>
        <DataTrigger Binding="{Binding OutcomeTone}"
          Value="Push">
        <Setter TargetName="OutcomeChip"
          Property="BorderBrush"
          Value="{StaticResource OutcomePush}"/>
        <Setter TargetName="OutcomeChip"
          Property="Background"
          Value="#2A261A"/>
          <Setter TargetName="OutcomeChip"
              Property="Effect">
            <Setter.Value>
              <DropShadowEffect Color="{StaticResource OutcomePushColor}" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
            </Setter.Value>
          </Setter>
          <Setter TargetName="OutcomeIcon"
            Property="Text"
            Value="P"/>
          <Setter TargetName="OutcomeIcon"
            Property="Foreground"
            Value="{StaticResource OutcomePush}"/>
        <Setter TargetName="HandOutcome"
          Property="Foreground"
          Value="{StaticResource OutcomePush}"/>
        </DataTrigger>
      <DataTrigger Binding="{Binding OutcomeTone}"
          Value="Blackjack">
        <Setter TargetName="OutcomeChip"
            Property="BorderBrush"
            Value="{StaticResource OutcomeBlackjack}"/>
        <Setter TargetName="OutcomeChip"
            Property="Background"
            Value="#2C2614"/>
        <Setter TargetName="OutcomeChip"
            Property="Effect">
          <Setter.Value>
            <DropShadowEffect Color="{StaticResource OutcomeBlackjackColor}" BlurRadius="12" ShadowDepth="0" Opacity="0.7"/>
          </Setter.Value>
        </Setter>
        <Setter TargetName="OutcomeIcon"
            Property="Text"
            Value="BJ"/>
        <Setter TargetName="OutcomeIcon"
            Property="Foreground"
            Value="{StaticResource OutcomeBlackjack}"/>
        <Setter TargetName="HandOutcome"
            Property="Foreground"
            Value="{StaticResource OutcomeBlackjack}"/>
      </DataTrigger>
      <DataTrigger Binding="{Binding IsActive}"
          Value="True">
        <Setter TargetName="HandFrame"
            Property="BorderBrush"
            Value="{StaticResource Accent}"/>
        <Setter TargetName="HandFrame"
            Property="Background"
            Value="#1B2B3B"/>
        <DataTrigger.EnterActions>
          <BeginStoryboard>
            <Storyboard>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="Opacity"
                               To="1"
                               Duration="0:0:0.12"/>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                               To="1.03"
                               Duration="0:0:0.12"/>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                               To="1.03"
                               Duration="0:0:0.12"/>
            </Storyboard>
          </BeginStoryboard>
        </DataTrigger.EnterActions>
        <DataTrigger.ExitActions>
          <BeginStoryboard>
            <Storyboard>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="Opacity"
                               To="0.9"
                               Duration="0:0:0.12"/>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                               To="1"
                               Duration="0:0:0.12"/>
              <DoubleAnimation Storyboard.TargetName="HandFrame"
                               Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                               To="1"
                               Duration="0:0:0.12"/>
            </Storyboard>
          </BeginStoryboard>
        </DataTrigger.ExitActions>
      </DataTrigger>
    </DataTemplate.Triggers>
  </DataTemplate>
</ResourceDictionary>
